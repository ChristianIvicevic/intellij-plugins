<html><body><div class="definition"><pre><b>Compatible: </b>espressif,esp32-ledc<br/><b>Path: </b>WORKING_DIRECTORY/zephyr/dts/bindings/pwm/espressif,esp32-ledc.yaml</pre></div><div class="content">Espressif&#39;s LEDC controller Node<br/><br/>The LEDC controller is primarily designed to control the intensity of LEDs, although it can be used to generate PWM signals for other purposes as well.<br/><br/>The mapping between the channel and GPIO is done through pinctrl<br/><br/><code><span style="">&amp;</span><span style="color:#000080;font-weight:bold;">ledc0&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">pinctrl-0&#32;</span><span style="">=&#32;&lt;&amp;</span><span style="color:#000080;font-weight:bold;">ledc0_default</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">pinctrl-names&#32;</span><span style="">=&#32;</span><span style="color:#008000;font-weight:bold;">"default"</span><span style="">;<br></span><span style="">}</span></code><br/><br/>The &#39;ledc0_default&#39; node state is defined in &lt;board&gt;-pinctrl.dtsi.<br/><br/><code><span style="color:#000080;font-weight:bold;">ledc0_default</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">ledc0_default&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">group1&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">pinmux&#32;</span><span style="">=&#32;&lt;LEDC_CH0_GPIO0&gt;,<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&lt;LEDC_CH1_GPIO2&gt;,<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&lt;LEDC_CH2_GPIO4&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">output-enable</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style="">};</span></code><br/><br/>If another GPIO mapping is desired, check if &lt;board&gt;-pinctrl.dtsi already have it defined, otherwise, define the required mapping at your own application folder into a custom &lt;board&gt;.overlay file. The &#39;pinmux&#39; property uses a macro defined in https://github.com/zephyrproject-rtos/hal_espressif/tree/zephyr/include/dt-bindings/pinctrl Before including a new node, check if the desired mapping is available according to the SoC.<br/><br/>As an example, the &#39;ledc0_custom&#39; state below illustrates an alternate mapping using another set of channels and pins in a custom overlay file.<br/><br/>  &amp;pinctrl {<br/><br/><code><span style="color:#000080;font-weight:bold;">ledc0_custom</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">ledc0_custom&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">group1&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">pinmux&#32;</span><span style="">=&#32;&lt;LEDC_CH0_GPIO0&gt;,<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&lt;LEDC_CH9_GPIO2&gt;,<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&lt;LEDC_CH10_GPIO4&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">output-enable</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style="">};</span></code><br/><br/>  };<br/><br/>Use the child bindings to configure the desired channel:<br/><br/><code><span style="">&amp;</span><span style="color:#000080;font-weight:bold;">ledc0&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">pinctrl-0&#32;</span><span style="">=&#32;&lt;&amp;</span><span style="color:#000080;font-weight:bold;">ledc0_custom</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">pinctrl-names&#32;</span><span style="">=&#32;</span><span style="color:#008000;font-weight:bold;">"default"</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">status&#32;</span><span style="">=&#32;</span><span style="color:#008000;font-weight:bold;">"okay"</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">#address-cells&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">1</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">#size-cells&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0</span><span style="">&gt;;<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">channel0</span><span style="">@</span><span style="color:#0000ff;">0&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reg&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x0</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">timer&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">channel9</span><span style="">@</span><span style="color:#0000ff;">9&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reg&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x9</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">timer&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">channel10</span><span style="">@</span><span style="color:#0000ff;">a&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reg&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0xa</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">timer&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">1</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style="">};</span></code><br/><br/>  Note: The channel&#39;s &#39;reg&#39; property defines the ID of the channel. It must match the channel used in the &#39;pinmux&#39;.</div></body></html>
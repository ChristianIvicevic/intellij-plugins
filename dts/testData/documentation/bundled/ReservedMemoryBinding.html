<html><body><div class="definition"><pre><b>Node: </b><span style="color:#000080;font-weight:bold;">reserved-memory</span><br/><b>Declared in: </b>/<span class="grayed"> (esp32.overlay)</span></pre></div><div class="content">Reserved memory is specified as a child node of the reserved-memory node. The operating system shall exclude reserved memory from normal usage. One can create child nodes describing particular reserved (excluded from normal use) memory regions. Such memory regions are usually designed for the special usage by various device drivers.<br/><br/>Each child of the reserved-memory node specifies one or more regions of reserved memory. Each child node may either use a reg property to specify a specific range of reserved memory, or a size property with optional constraints to request a dynamically allocated block of memory.<br/><br/>Following the generic-names recommended practice, node names should reflect the purpose of the node (ie. &quot;framebuffer&quot; or &quot;dma-pool&quot;). Unit address (@&lt;address&gt;) should be appended to the name if the node is a static allocation.<br/><br/>This example defines 3 contiguous regions are defined for Linux kernel: one default of all device drivers (named linux, cma and 64MiB in size), one dedicated to the framebuffer device (named framebuffer@78000000, 8MiB), and one for multimedia processing (named multimedia@77000000, 64MiB).<br/><br/><code><span style="">/&#32;{<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">#address-cells&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">1</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">#size-cells&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">1</span><span style="">&gt;;<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">memory&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reg&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x40000000&#32;0x40000000</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">reserved-memory&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">#address-cells&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">1</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">#size-cells&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">1</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">ranges</span><span style="">;<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">linux,cma&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">compatible&#32;</span><span style="">=&#32;</span><span style="color:#008000;font-weight:bold;">"shared-dma-pool"</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reusable</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">size&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x4000000</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">alignment&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x2000</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">linux,cma-default</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">display_reserved</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">framebuffer</span><span style="">@</span><span style="color:#0000ff;">78000000&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reg&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x78000000&#32;0x800000</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">multimedia_reserved</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">multimedia</span><span style="">@</span><span style="color:#0000ff;">77000000&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">compatible&#32;</span><span style="">=&#32;</span><span style="color:#008000;font-weight:bold;">"acme,multimedia-memory"</span><span style="">;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">reg&#32;</span><span style="">=&#32;&lt;</span><span style="color:#0000ff;">0x77000000&#32;0x4000000</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};<br></span><span style="">&#32;&#32;&#32;&#32;};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">fb0</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">video</span><span style="">@</span><span style="color:#0000ff;">12300000&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">memory-region&#32;</span><span style="">=&#32;&lt;&amp;</span><span style="color:#000080;font-weight:bold;">display_reserved</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#808080;font-style:italic;">/*&#32;...&#32;*/<br></span><span style="color:#808080;font-style:italic;">&#32;&#32;&#32;&#32;</span><span style="">};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">scaler</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">scaler</span><span style="">@</span><span style="color:#0000ff;">12500000&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">memory-region&#32;</span><span style="">=&#32;&lt;&amp;</span><span style="color:#000080;font-weight:bold;">multimedia_reserved</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#808080;font-style:italic;">/*&#32;...&#32;*/<br></span><span style="color:#808080;font-style:italic;">&#32;&#32;&#32;&#32;</span><span style="">};<br></span><span style=""><br></span><span style="">&#32;&#32;&#32;&#32;</span><span style="color:#000080;font-weight:bold;">codec</span><span style="">:&#32;</span><span style="color:#000080;font-weight:bold;">codec</span><span style="">@</span><span style="color:#0000ff;">12600000&#32;</span><span style="">{<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#660e7a;font-weight:bold;">memory-region&#32;</span><span style="">=&#32;&lt;&amp;</span><span style="color:#000080;font-weight:bold;">multimedia_reserved</span><span style="">&gt;;<br></span><span style="">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</span><span style="color:#808080;font-style:italic;">/*&#32;...&#32;*/<br></span><span style="color:#808080;font-style:italic;">&#32;&#32;&#32;&#32;</span><span style="">};<br></span><span style="">};</span></code></div></body></html>